--- a/src/cli/configure.c
+++ b/src/cli/configure.c
@@ -203,8 +203,8 @@
                 warn("memory allocation failed");
                 goto fail;
         }
-        nvc_cfg->uid = ctx->uid;
-        nvc_cfg->gid = ctx->gid;
+        nvc_cfg->uid = (ctx->uid == (uid_t)-1) ? geteuid() : ctx->uid;
+        nvc_cfg->gid = (ctx->gid == (gid_t)-1) ? getegid() : ctx->gid;
         nvc_cfg->root = ctx->root;
         nvc_cfg->ldcache = ctx->ldcache;
         if (nvc_init(nvc, nvc_cfg, ctx->init_flags) < 0) {
--- a/src/cli/info.c
+++ b/src/cli/info.c
@@ -73,8 +73,8 @@
                 warn("memory allocation failed");
                 goto fail;
         }
-        nvc_cfg->uid = (!run_as_root && ctx->uid == (uid_t)-1) ? geteuid() : ctx->uid;
-        nvc_cfg->gid = (!run_as_root && ctx->gid == (gid_t)-1) ? getegid() : ctx->gid;
+        nvc_cfg->uid = (ctx->uid == (uid_t)-1) ? geteuid() : ctx->uid;
+        nvc_cfg->gid = (ctx->gid == (gid_t)-1) ? getegid() : ctx->gid;
         nvc_cfg->root = ctx->root;
         nvc_cfg->ldcache = ctx->ldcache;
         if (nvc_init(nvc, nvc_cfg, ctx->init_flags) < 0) {
--- a/src/cli/list.c
+++ b/src/cli/list.c
@@ -104,8 +104,8 @@
                 warn("memory allocation failed");
                 goto fail;
         }
-        nvc_cfg->uid = (!run_as_root && ctx->uid == (uid_t)-1) ? geteuid() : ctx->uid;
-        nvc_cfg->gid = (!run_as_root && ctx->gid == (gid_t)-1) ? getegid() : ctx->gid;
+        nvc_cfg->uid = (ctx->uid == (uid_t)-1) ? geteuid() : ctx->uid;
+        nvc_cfg->gid = (ctx->gid == (gid_t)-1) ? getegid() : ctx->gid;
         nvc_cfg->root = ctx->root;
         nvc_cfg->ldcache = ctx->ldcache;
         if (nvc_init(nvc, nvc_cfg, ctx->init_flags) < 0) {
